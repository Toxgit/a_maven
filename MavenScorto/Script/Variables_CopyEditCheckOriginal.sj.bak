//USEUNIT MainMenu
//USEUNIT NewStrategyHelper
//USEUNIT TestLogging
//USEUNIT VariablesHelper

function  Variables_CopyEditCheckOriginal()
{
//
//initialization
  var menu = new MainMenuControl();
  var variables = new Variables.Variables();
  
//precondition
  BeginTestTransaction("User can change the copied variable and it will not affect the original varialbe");
  createNewStr();
  menu.toVariables();
//test body
  Log.Message("Создаем две переменные");
  for(var i=0; i<ODT.Data.Variables.VariableCount; i++)
  {
    var item = ODT.Data.Variables.Variables(i).Value;
    if (item.options == "copy")
    {
      createVariableWithCostomProperty(item);
    }
   }
   variables.selectAll();
   variables.copy();
   variables.copy();
   Log.Message("Копируем переменные");
   
   for(var i=0; i<ODT.Data.Variables.VariableCount; i++)
  {
    var item = ODT.Data.Variables.Variables(i).Value;
    if (item.options == "edit")
    {
      clickRowByName(item.name);
      editVariableWithCostomProperty(item);
    }
   }
   for(var i=0; i<ODT.Data.Variables.VariableCount; i++)//проверка оригинала
  {
    var item = ODT.Data.Variables.Variables(i).Value;
    if (item.options == "copy")
    {
      logStep("Iteration "+i);
      verifyVariableWithCostomProperty(item);
    }
   }
//postcondition
  Log.PopLogFolder();
  variables.ok();
  closeOneStr();
  EndTestTransaction(); 
}